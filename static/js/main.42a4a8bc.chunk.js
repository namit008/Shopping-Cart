(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{50:function(t,e,c){},76:function(t,e,c){},77:function(t,e,c){},78:function(t,e,c){"use strict";c.r(e);var n=c(16),r=c(0),a=c.n(r),s=c(20),i=c.n(s),o=(c(50),c(17)),l=c(6),d=c(15),u=c(18),j=c.n(u),b=c(34),h=c(23),m=c(19),p=c(3),O=c(25),f=c.n(O),x=c(27),v=c(2),g={cartItems:localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],cartTotalQuantity:0,cartTotalAmount:0},y=Object(v.d)({name:"cart",initialState:g,reducers:{addToCart:function(t,e){var c=t.cartItems.findIndex((function(t){return t.id===e.payload.id}));if(c>=0)t.cartItems[c]=Object(x.a)(Object(x.a)({},t.cartItems[c]),{},{cartQuantity:t.cartItems[c].cartQuantity+1}),d.b.info("Increased product quantity",{position:"bottom-left"});else{var n=Object(x.a)(Object(x.a)({},e.payload),{},{cartQuantity:1});t.cartItems.push(n),d.b.success("Product added to cart",{position:"bottom-left"})}localStorage.setItem("cartItems",JSON.stringify(t.cartItems))},decreaseCart:function(t,e){var c=t.cartItems.findIndex((function(t){return t.id===e.payload.id}));if(t.cartItems[c].cartQuantity>1)t.cartItems[c].cartQuantity-=1,d.b.info("Decreased product quantity",{position:"bottom-left"});else if(1===t.cartItems[c].cartQuantity){var n=t.cartItems.filter((function(t){return t.id!==e.payload.id}));t.cartItems=n,d.b.error("Product removed from cart",{position:"bottom-left"})}localStorage.setItem("cartItems",JSON.stringify(t.cartItems))},removeFromCart:function(t,e){t.cartItems.map((function(c){if(c.id===e.payload.id){var n=t.cartItems.filter((function(t){return t.id!==c.id}));t.cartItems=n,d.b.error("Product removed from cart",{position:"bottom-left"})}return localStorage.setItem("cartItems",JSON.stringify(t.cartItems)),t}))},getTotals:function(t,e){var c=t.cartItems.reduce((function(t,e){var c=e.price,n=e.cartQuantity,r=c*n;return t.total+=r,t.quantity+=n,t}),{total:0,quantity:0}),n=c.total,r=c.quantity;n=parseFloat(n.toFixed(2)),t.cartTotalQuantity=r,t.cartTotalAmount=n},clearCart:function(t,e){t.cartItems=[],localStorage.setItem("cartItems",JSON.stringify(t.cartItems)),d.b.error("Cart cleared",{position:"bottom-left"})}}}),w=y.actions,N=w.addToCart,I=w.decreaseCart,C=w.removeFromCart,S=w.getTotals,T=w.clearCart,k=y.reducer,A=Object(v.d)({name:"search",initialState:{value:""},reducers:{setSearchValue:function(t,e){t.value=e.payload}}}),Q=A.actions.setSearchValue,E=A.reducer,L=c(44),P=c(9),q=Object(L.a)({reducerPath:"productsApi",baseQuery:Object(P.d)({baseUrl:"https://dummyjson.com/"}),endpoints:function(t){return{getAllProducts:t.query({query:function(){return"/products?limit=100"}})}}}),H=q.useGetAllProductsQuery,Y=c(1),D=function(){var t=Object(p.d)(),e=Object(p.e)((function(t){return t.search.value})),c=Object(r.useState)(""),n=Object(m.a)(c,2),a=n[0],s=n[1],i=H().data;console.log(e,a);Object(r.useEffect)((function(){console.log("inside Usefffect")}),[]);var o=function(t){s(t),l(t)},l=Object(r.useCallback)(function(t){var e;return function(){for(var c=arguments.length,n=new Array(c),r=0;r<c;r++)n[r]=arguments[r];var a=this;e&&clearTimeout(e),e=setTimeout((function(){e=null,t.apply(a,n)}),500)}}((function(e){t(Q(e))})),[]);return Object(Y.jsxs)("div",{className:"searchBar",children:[Object(Y.jsx)("input",{type:"text",value:a,placeholder:"Search Your Product ",style:{width:"90%",height:"85%"},onChange:function(t){return o(t.target.value)}}),Object(Y.jsx)("div",{className:"dropdown",children:null===i||void 0===i?void 0:i.products.filter((function(t){var c,n;return e.length&&(null===(c=t.title)||void 0===c?void 0:c.toLowerCase().includes(e.toLowerCase()))&&(null===(n=t.title)||void 0===n?void 0:n.toLowerCase())!==e.toLowerCase()})).slice(0,10).map((function(t){return Object(Y.jsx)("div",{onClick:function(){return o(t.title)},className:"dropdown-row",children:t.title},t.title)}))})]})},F=function(){var t=Object(p.e)((function(t){return t.cart})).cartTotalQuantity,e=Object(p.d)();return Object(Y.jsxs)("nav",{className:"nav-bar",children:[Object(Y.jsx)(o.b,{className:"logoAnchor",to:"/home",children:Object(Y.jsx)("h2",{onClick:function(){return e(Q(""))},children:"Shopping Mart"})}),Object(Y.jsx)(D,{}),Object(Y.jsx)(o.b,{className:"cartAnchor",to:"/cart",children:Object(Y.jsxs)("div",{className:"nav-bag",children:[Object(Y.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"35",height:"35",fill:"currentColor",className:"bi bi-handbag-fill",viewBox:"0 0 16 16",children:Object(Y.jsx)("path",{d:"M8 1a2 2 0 0 0-2 2v2H5V3a3 3 0 1 1 6 0v2h-1V3a2 2 0 0 0-2-2zM5 5H3.36a1.5 1.5 0 0 0-1.483 1.277L.85 13.13A2.5 2.5 0 0 0 3.322 16h9.355a2.5 2.5 0 0 0 2.473-2.87l-1.028-6.853A1.5 1.5 0 0 0 12.64 5H11v1.5a.5.5 0 0 1-1 0V5H6v1.5a.5.5 0 0 1-1 0V5z"})}),Object(Y.jsx)("span",{className:"bag-quantity",children:Object(Y.jsx)("span",{children:t})})]})})]})},J=function(t){var e=t.product,c=Object(p.d)(),n=e.category,r=e.catData;return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)("div",{style:{display:"flex",marginTop:"4rem"},children:Object(Y.jsxs)("h1",{children:[Object(Y.jsx)("b",{children:"Category"})," ",": ",n.toUpperCase()]})}),Object(Y.jsx)("div",{className:"products",children:r.map((function(t){return Object(Y.jsxs)("div",{className:"product",children:[Object(Y.jsx)("h3",{children:t.title}),Object(Y.jsx)("img",{src:t.images[0],alt:t.name}),Object(Y.jsxs)("div",{className:"details",children:[Object(Y.jsx)("span",{children:t.description}),Object(Y.jsxs)("span",{className:"price",children:["$",t.price]})]}),Object(Y.jsx)("button",{onClick:function(){return function(t){c(N(t)),c(S())}(t)},children:"Add To Cart"})]},t.id)}))})]})},M=function(){var t=Object(p.e)((function(t){return t.products})).status,e=Object(p.e)((function(t){return t.search.value})),c=Object(r.useState)(0),n=Object(m.a)(c,2),a=n[0],s=n[1],i=Object(r.useState)(!1),o=Object(m.a)(i,2),l=o[0],d=o[1],u=Object(r.useState)(""),O=Object(m.a)(u,2),x=(O[0],O[1],Object(p.d)()),v=Object(r.useState)([]),g=Object(m.a)(v,2),y=g[0],w=g[1],I=new Set(null===y||void 0===y?void 0:y.map((function(t){return t.category}))),C=Object(r.useState)([]),T=Object(m.a)(C,2),k=T[0],A=T[1],E=function(t){!l&&window.pageYOffset>500?(console.log(window.pageYOffset,"window.pageYOffset"),d(!0)):l&&window.pageYOffset<=500&&(console.log(window.pageYOffset,"window.pageYOffset"),d(!1)),window.innerHeight+document.documentElement.scrollTop+1>=document.documentElement.scrollHeight&&s((function(t){return t+10}))};Object(r.useEffect)((function(){x(Q("")),console.log("inside Useeffect")}),[]),Object(r.useEffect)((function(){var t=function(){var t=Object(h.a)(j.a.mark((function t(){var e,c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.get("https://dummyjson.com/products?skip=".concat(a,"&limit=10"));case 2:e=t.sent,c=e.data,console.log(c,"responseData"),w(0===a?c.products:function(t){return[].concat(Object(b.a)(t),Object(b.a)(c.products))});case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),c=function(){var t=Object(h.a)(j.a.mark((function t(){var e,c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.get("https://dummyjson.com/products?limit=100");case 2:e=t.sent,c=e.data,console.log(c,"responseData"),w(c.products),s(0);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();e.length?c():t()}),[a,e]),Object(r.useEffect)((function(){var t=[];null===I||void 0===I||I.forEach((function(e){var c={category:e,catData:[]};console.log(y,"data"),null===y||void 0===y||y.forEach((function(t){t.category===e&&c.catData.push(t)})),t.push(c)})),A(t)}),[y]);return Object(r.useEffect)((function(){return window.addEventListener("scroll",E),function(){return window.removeEventListener("scroll",E)}}),[]),Object(Y.jsx)("div",{className:"home-container",children:"success"===t?Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(F,{}),Object(Y.jsxs)("div",{className:"products",children:[e.length?y&&(null===y||void 0===y?void 0:y.filter((function(t){var c;return null===(c=t.title)||void 0===c?void 0:c.toLowerCase().includes(e.toLowerCase())})).reverse().map((function(t){return Object(Y.jsxs)("div",{style:{marginTop:"4rem"},className:"product",children:[Object(Y.jsx)("h3",{children:t.title}),Object(Y.jsx)("img",{src:t.images[0],alt:t.name}),Object(Y.jsxs)("div",{className:"details",children:[Object(Y.jsx)("span",{children:t.description}),Object(Y.jsxs)("span",{className:"price",children:["$",t.price]})]}),Object(Y.jsx)("button",{onClick:function(){return function(t){x(N(t)),x(S())}(t)},children:"Add To Cart"})]},t.id)}))):null===k||void 0===k?void 0:k.map((function(t){return Object(Y.jsx)("div",{children:Object(Y.jsx)(J,{product:t})},t.category)})),l&&Object(Y.jsx)("button",{className:"scroll",onClick:function(){return window.scrollTo({top:0,behavior:"smooth"}),void d(!1)},children:Object(Y.jsx)("span",{className:"glyphicon glyphicon-chevron-up"})})]})]}):"pending"===t?Object(Y.jsx)("p",{children:"Loading..."}):Object(Y.jsx)("p",{children:"Unexpected error occured..."})})},V=function(){return Object(Y.jsxs)("div",{className:"not-found",children:[Object(Y.jsx)("h2",{children:"404"}),Object(Y.jsx)("p",{children:"Page not found"})]})},B=function(){var t=Object(p.e)((function(t){return t.cart})),e=Object(p.d)();Object(r.useEffect)((function(){e(S())}),[t,e]);return Object(Y.jsxs)("div",{className:"cart-container",children:[Object(Y.jsx)(F,{}),Object(Y.jsx)("h2",{children:"Shopping Cart"}),0===t.cartItems.length?Object(Y.jsxs)("div",{className:"cart-empty",children:[Object(Y.jsx)("p",{children:"Your cart is currently empty"}),Object(Y.jsx)("div",{className:"start-shopping",children:Object(Y.jsxs)(o.b,{to:"/home",children:[Object(Y.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",className:"bi bi-arrow-left",viewBox:"0 0 16 16",children:Object(Y.jsx)("path",{fillRule:"evenodd",d:"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"})}),Object(Y.jsx)("span",{children:"Start Shopping"})]})})]}):Object(Y.jsxs)("div",{children:[Object(Y.jsxs)("div",{className:"titles",children:[Object(Y.jsx)("h3",{className:"product-title",children:"Product"}),Object(Y.jsx)("h3",{className:"price",children:"Price"}),Object(Y.jsx)("h3",{className:"quantity",children:"Quantity"}),Object(Y.jsx)("h3",{className:"total",children:"Total"})]}),Object(Y.jsx)("div",{className:"cart-items",children:t.cartItems&&t.cartItems.map((function(t){return Object(Y.jsxs)("div",{className:"cart-item",children:[Object(Y.jsxs)("div",{className:"cart-product",children:[Object(Y.jsx)("img",{src:t.images[0],alt:t.title}),Object(Y.jsxs)("div",{children:[Object(Y.jsx)("h3",{children:t.title}),Object(Y.jsx)("p",{children:t.description}),Object(Y.jsx)("button",{onClick:function(){e(C(t))},children:"Remove"})]})]}),Object(Y.jsxs)("div",{className:"cart-product-price",children:["$",t.price]}),Object(Y.jsxs)("div",{className:"cart-product-quantity",children:[Object(Y.jsx)("button",{onClick:function(){e(I(t))},children:"-"}),Object(Y.jsx)("div",{className:"count",children:t.cartQuantity}),Object(Y.jsx)("button",{onClick:function(){e(N(t))},children:"+"})]}),Object(Y.jsxs)("div",{className:"cart-product-total-price",children:["$",t.price*t.cartQuantity]})]},t.id)}))}),Object(Y.jsxs)("div",{className:"cart-summary",children:[Object(Y.jsx)("button",{className:"clear-btn",onClick:function(){e(T())},children:"Clear Cart"}),Object(Y.jsxs)("div",{className:"cart-checkout",children:[Object(Y.jsxs)("div",{className:"subtotal",children:[Object(Y.jsx)("span",{children:"Subtotal"}),Object(Y.jsxs)("span",{className:"amount",children:["$",t.cartTotalAmount]})]}),Object(Y.jsx)("p",{children:"Taxes and shipping calculated at checkout"}),Object(Y.jsx)("button",{children:"Check out"}),Object(Y.jsx)("div",{className:"continue-shopping",children:Object(Y.jsxs)(o.b,{to:"/home",children:[Object(Y.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",className:"bi bi-arrow-left",viewBox:"0 0 16 16",children:Object(Y.jsx)("path",{fillRule:"evenodd",d:"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"})}),Object(Y.jsx)("span",{children:"Continue Shopping"})]})})]})]})]})]})};c(75);var U,$=function(){return Object(Y.jsx)("div",{className:"App",children:Object(Y.jsxs)(o.a,{basename:"Shopping-Cart",children:[Object(Y.jsx)(d.a,{}),Object(Y.jsx)("div",{className:"content-container",children:Object(Y.jsxs)(l.c,{children:[Object(Y.jsx)(l.a,{path:"/",component:M,exact:!0}),Object(Y.jsx)(l.a,{path:"/cart",component:B}),Object(Y.jsx)(l.a,{path:"/not-found",component:V}),Object(Y.jsx)(l.a,{path:"/home",component:M})]})})]})})},z=Object(v.c)("products/productsFetch",Object(h.a)(j.a.mark((function t(){var e;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.get("https://dummyjson.com/products?limit=30");case 3:return e=t.sent,t.abrupt("return",e.data);case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))),R=Object(v.d)({name:"products",initialState:{items:[],status:null},reducers:{},extraReducers:(U={},Object(n.a)(U,z.pending,(function(t,e){t.status="pending"})),Object(n.a)(U,z.fulfilled,(function(t,e){t.items=e.payload,t.status="success"})),Object(n.a)(U,z.rejected,(function(t,e){t.status="rejected"})),U)}).reducer,G=c(7),W=c(26),K=c(45),X=(c(76),c(77),[W.a]),Z=Object(v.a)({reducer:Object(n.a)({products:R,cart:k,search:E},q.reducerPath,q.reducer),middleware:function(t){return t().concat(q.middleware)}},Object(K.composeWithDevTools)(G.applyMiddleware.apply(void 0,X)));Z.dispatch(z()),Z.dispatch(S()),i.a.render(Object(Y.jsx)(a.a.StrictMode,{children:Object(Y.jsx)(p.a,{store:Z,children:Object(Y.jsx)($,{})})}),document.getElementById("root"))}},[[78,1,2]]]);
//# sourceMappingURL=main.42a4a8bc.chunk.js.map